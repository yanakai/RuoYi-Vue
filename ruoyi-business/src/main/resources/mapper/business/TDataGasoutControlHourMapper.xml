<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.business.statisticsAlarm.mapper.TDataGasoutControlHourMapper">
    
    <resultMap type="TDataGasoutControlHour" id="TDataGasoutControlHourResult">
        <result property="id"    column="id"    />
        <result property="entCode"    column="ent_code"    />
        <result property="entName"    column="ent_name"    />
        <result property="outPutCode"    column="out_put_code"    />
        <result property="outPutName"    column="out_put_name"    />
        <result property="pollutantCode"    column="pollutant_code"    />
        <result property="pollutantNameEn"    column="pollutant_name_en"    />
        <result property="pollutantNameCn"    column="pollutant_name_cn"    />
        <result property="standardValue"    column="standard_value"    />
        <result property="avgValue"    column="avg_value"    />
        <result property="surplusValue"    column="surplus_value"    />
    </resultMap>

    <sql id="selectTDataGasoutControlHourVo">
        select id, ent_code, ent_name, out_put_code, out_put_name, pollutant_code, pollutant_name_en, pollutant_name_cn, standard_value, avg_value, surplus_value from t_data_gasout_control_hour
    </sql>

    <select id="selectTDataGasoutControlHourList" parameterType="TDataGasoutControlHour" resultMap="TDataGasoutControlHourResult">
        <include refid="selectTDataGasoutControlHourVo"/>
        <where>  
            <if test="entCode != null  and entCode != ''"> and ent_code = #{entCode}</if>
            <if test="entName != null  and entName != ''"> and ent_name like concat('%', #{entName}, '%')</if>
            <if test="outPutCode != null  and outPutCode != ''"> and out_put_code = #{outPutCode}</if>
            <if test="outPutName != null  and outPutName != ''"> and out_put_name like concat('%', #{outPutName}, '%')</if>

             <!-- 根据所属企业数据范围过滤 -->
            <if test="params.dataEntScope != null and params.dataEntScope != ''">
                ${params.dataEntScope}
            </if>
        </where>
    </select>
    
    <select id="selectTDataGasoutControlHourById" parameterType="Long" resultMap="TDataGasoutControlHourResult">
        <include refid="selectTDataGasoutControlHourVo"/>
        where id = #{id}
    </select>

    <insert id="insertTDataGasoutControlHour" parameterType="TDataGasoutControlHour" useGeneratedKeys="true" keyProperty="id">
        insert into t_data_gasout_control_hour
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="entCode != null">ent_code,</if>
            <if test="entName != null">ent_name,</if>
            <if test="outPutCode != null">out_put_code,</if>
            <if test="outPutName != null">out_put_name,</if>
            <if test="pollutantCode != null">pollutant_code,</if>
            <if test="pollutantNameEn != null">pollutant_name_en,</if>
            <if test="pollutantNameCn != null">pollutant_name_cn,</if>
            <if test="standardValue != null">standard_value,</if>
            <if test="avgValue != null">avg_value,</if>
            <if test="surplusValue != null">surplus_value,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="entCode != null">#{entCode},</if>
            <if test="entName != null">#{entName},</if>
            <if test="outPutCode != null">#{outPutCode},</if>
            <if test="outPutName != null">#{outPutName},</if>
            <if test="pollutantCode != null">#{pollutantCode},</if>
            <if test="pollutantNameEn != null">#{pollutantNameEn},</if>
            <if test="pollutantNameCn != null">#{pollutantNameCn},</if>
            <if test="standardValue != null">#{standardValue},</if>
            <if test="avgValue != null">#{avgValue},</if>
            <if test="surplusValue != null">#{surplusValue},</if>
         </trim>
    </insert>

    <update id="updateTDataGasoutControlHour" parameterType="TDataGasoutControlHour">
        update t_data_gasout_control_hour
        <trim prefix="SET" suffixOverrides=",">
            <if test="entCode != null">ent_code = #{entCode},</if>
            <if test="entName != null">ent_name = #{entName},</if>
            <if test="outPutCode != null">out_put_code = #{outPutCode},</if>
            <if test="outPutName != null">out_put_name = #{outPutName},</if>
            <if test="pollutantCode != null">pollutant_code = #{pollutantCode},</if>
            <if test="pollutantNameEn != null">pollutant_name_en = #{pollutantNameEn},</if>
            <if test="pollutantNameCn != null">pollutant_name_cn = #{pollutantNameCn},</if>
            <if test="standardValue != null">standard_value = #{standardValue},</if>
            <if test="avgValue != null">avg_value = #{avgValue},</if>
            <if test="surplusValue != null">surplus_value = #{surplusValue},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deleteTDataGasoutControlHourById" parameterType="Long">
        delete from t_data_gasout_control_hour where id = #{id}
    </delete>

    <delete id="deleteTDataGasoutControlHourByIds" parameterType="String">
        delete from t_data_gasout_control_hour where id in 
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>